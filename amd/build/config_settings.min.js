define(["jquery","jqueryui","block_gradetracker/scripts"],function(a,b,c){var d={},e=a(".gt_stud_nav_link").length,f=a(".gt_unit_nav_link").length,g=a(".gt_class_nav_link").length;d.init=function(){d.bindings()},d.bindings=function(){a(".gt_config_percentile_colour").on("input",function(){a("#gt_bg_col_"+a(this).attr("colNum")).css("background-color",a(this).val())}),a(".gt_add_link_stud_grid").unbind("click"),a(".gt_add_link_stud_grid").bind("click",function(b){e++;var c=e,f=a(this).attr("parent");f>0?a("#gt_stud_nav_link_"+f+"_sub").append('<span id="gt_stud_nav_link_'+c+'" class="gt_stud_nav_link"><input type="text" name="student_grid_nav['+f+"][sub]["+c+'][name]" value="" placeholder="'+M.util.get_string("name","block_gradetracker")+'" /> <input type="text" class="gt_nav_url" name="student_grid_nav['+f+"][sub]["+c+'][url]" value="" placeholder="'+M.util.get_string("url","block_gradetracker")+'" /> <a href="#" class="gt_remove" remove="#gt_stud_nav_link_'+c+'"><img src="'+M.util.image_url("t/delete")+'" alt="'+M.util.get_string("delete","block_gradetracker")+'" /></a><br></span>'):a("#gt_config_stud_grid_nav_links").append('<div id="gt_stud_nav_link_'+c+'" class="gt_stud_nav_link"><br><input type="text" name="student_grid_nav['+c+'][name]" value="" placeholder="'+M.util.get_string("name","block_gradetracker")+'" /> <input type="text" class="gt_nav_url" name="student_grid_nav['+c+'][url]" value="" placeholder="'+M.util.get_string("url","block_gradetracker")+'" /> <a href="#" class="gt_remove" remove="#gt_stud_nav_link_'+c+'"><img src="'+M.util.image_url("t/delete")+'" alt="'+M.util.get_string("delete","block_gradetracker")+'" /></a> <a href="#" class="gt_add_link_stud_grid" parent="'+c+'"><img src="'+M.util.image_url("t/add")+'" alt="'+M.util.get_string("addnew","block_gradetracker")+'" /></a><br><div id="gt_stud_nav_link_'+c+'_sub"></div></div>'),d.bindings(),b.preventDefault()}),a(".gt_add_link_unit_grid").unbind("click"),a(".gt_add_link_unit_grid").bind("click",function(b){f++;var c=f,e=a(this).attr("parent");e>0?a("#gt_unit_nav_link_"+e+"_sub").append('<span id="gt_unit_nav_link_'+c+'" class="gt_unit_nav_link"><input type="text" name="unit_grid_nav['+e+"][sub]["+c+'][name]" value="" placeholder="'+M.util.get_string("name","block_gradetracker")+'" /> <input type="text" class="gt_nav_url" name="unit_grid_nav['+e+"][sub]["+c+'][url]" value="" placeholder="'+M.util.get_string("url","block_gradetracker")+'" /> <a href="#" class="gt_remove" remove="#gt_unit_nav_link_'+c+'"><img src="'+M.util.image_url("t/delete")+'" alt="'+M.util.get_string("delete","block_gradetracker")+'" /></a><br></span>'):a("#gt_config_unit_grid_nav_links").append('<div id="gt_unit_nav_link_'+c+'" class="gt_unit_nav_link"><br><input type="text" name="unit_grid_nav['+c+'][name]" value="" placeholder="'+M.util.get_string("name","block_gradetracker")+'" /> <input type="text" class="gt_nav_url" name="unit_grid_nav['+c+'][url]" value="" placeholder="'+M.util.get_string("url","block_gradetracker")+'" /> <a href="#" class="gt_remove" remove="#gt_unit_nav_link_'+c+'"><img src="'+M.util.image_url("t/delete")+'" alt="'+M.util.get_string("delete","block_gradetracker")+'" /></a> <a href="#" class="gt_add_link_unit_grid" parent="'+c+'"><img src="'+M.util.image_url("t/add")+'" alt="'+M.util.get_string("addnew","block_gradetracker")+'" /></a><br><div id="gt_unit_nav_link_'+c+'_sub"></div></div>'),d.bindings(),b.preventDefault()}),a(".gt_add_link_class_grid").unbind("click"),a(".gt_add_link_class_grid").bind("click",function(b){g++;var c=g,e=a(this).attr("parent");e>0?a("#gt_class_nav_link_"+e+"_sub").append('<span id="gt_class_nav_link_'+c+'" class="gt_class_nav_link"><input type="text" name="class_grid_nav['+e+"][sub]["+c+'][name]" value="" placeholder="'+M.util.get_string("name","block_gradetracker")+'" /> <input type="text" class="gt_nav_url" name="class_grid_nav['+e+"][sub]["+c+'][url]" value="" placeholder="'+M.util.get_string("url","block_gradetracker")+'" /> <a href="#" class="gt_remove" remove="#gt_class_nav_link_'+c+'"><img src="'+M.util.image_url("t/delete")+'" alt="'+M.util.get_string("delete","block_gradetracker")+'" /></a><br></span>'):a("#gt_config_class_grid_nav_links").append('<div id="gt_class_nav_link_'+c+'" class="gt_class_nav_link"><br><input type="text" name="class_grid_nav['+c+'][name]" value="" placeholder="'+M.util.get_string("name","block_gradetracker")+'" /> <input type="text" class="gt_nav_url" name="class_grid_nav['+c+'][url]" value="" placeholder="'+M.util.get_string("url","block_gradetracker")+'" /> <a href="#" class="gt_remove" remove="#gt_class_nav_link_'+c+'"><img src="'+M.util.image_url("t/delete")+'" alt="'+M.util.get_string("delete","block_gradetracker")+'" /></a> <a href="#" class="gt_add_link_class_grid" parent="'+c+'"><img src="'+M.util.image_url("t/add")+'" alt="'+M.util.get_string("addnew","block_gradetracker")+'" /></a><br><div id="gt_class_nav_link_'+c+'_sub"></div></div>'),d.bindings(),b.preventDefault()}),a("#gt_add_assessment_form_field").unbind("click"),a("#gt_add_assessment_form_field").bind("click",function(b){var c=a(".gt_custom_assessment_form_field_row").length,e="";e+="<tr class='gt_custom_assessment_form_field_row' id='gt_custom_assessment_form_field_row_"+c+"'>",e+="<td><input type='text' name='custom_form_fields_names["+c+"]' /></td>",e+="<td><select class='gt_add_assessment_form_field_type' num='"+c+"' name='custom_form_fields_types["+c+"]'><option></option><option value='TEXT'>"+M.util.get_string("element:text","block_gradetracker")+"</option><option value='NUMBER'>"+M.util.get_string("element:number","block_gradetracker")+"</option><option value='TEXTBOX'>"+M.util.get_string("element:textbox","block_gradetracker")+"</option><option value='SELECT'>"+M.util.get_string("element:select","block_gradetracker")+"</option><option value='CHECKBOX'>"+M.util.get_string("element:checkbox","block_gradetracker")+"</option></select></td>",e+="<td><input type='text' style='display:none;' id='custom_form_fields_options_"+c+"' name='custom_form_fields_options["+c+"]' placeholder='option1,option2,option3' /></td>",e+="<td><a href='#' class='gt_remove' remove='#gt_custom_assessment_form_field_row_"+c+"'><img src='"+M.cfg.wwwroot+"/blocks/gradetracker/pix/remove.png' alt='remove' /></a></td>",e+="</tr>",a("#gt_custom_assessment_form_fields").append(e),d.bindings(),b.preventDefault()}),a(".gt_add_assessment_form_field_type").unbind("click"),a(".gt_add_assessment_form_field_type").bind("click",function(){var b=a(this).val(),c=a(this).attr("num");"SELECT"==b?a("#custom_form_fields_options_"+c).show():a("#custom_form_fields_options_"+c).hide()}),a(".gt_report_add_crit_weighting").unbind("click"),a(".gt_report_add_crit_weighting").bind("click",function(b){var c=a(this).attr("structureID");a("#gt_crit_prog_wt_"+c).append('<tr><td><input type="text" class="gt_text_small" name="crit_weight_scores['+c+'][letter][]" /></td><td><input type="text" class="gt_text_small" name="crit_weight_scores['+c+'][score][]" /></td><td><a href="#" class="gt_remove" remove="parent-row"><img src="'+M.cfg.wwwroot+'/blocks/gradetracker/pix/remove.png" /></a></td></tr>'),d.bindings(),b.preventDefault()}),GT.bind()};var h={};return h.log=function(a){console.log("[GT] "+(new Date).toTimeString().split(" ")[0]+": "+a)},h.init=function(){d.init(),h.log("Loaded config_settings.js")},h});