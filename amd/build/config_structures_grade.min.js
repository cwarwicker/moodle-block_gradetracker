define(["jquery","jqueryui"],function(a,b){var c={};c.specialVals=[],c.cntGrades=0,c.init=function(b){c.specialVals=b,c.cntGrades=a("#gt_grading_structure_table tr").length-1,c.bindings()},c.bindings=function(){a("#gt_add_unit_grading").unbind("click"),a("#gt_add_unit_grading").bind("click",function(b){c.cntGrades++;var d=c.cntGrades,e="";e+='<tr id="gt_grading_row_'+d+'">',e+='<td><input type="hidden" name="grade_ids['+d+']" value="-1" /><input type="text" name="grade_names['+d+']" placeholder="e.g. Pass" value="" /></td>',e+='<td><input type="text" class="gt_text_small" name="grade_shortnames['+d+']" placeholder="P" value="" /></td>',e+='<td><input type="number" min="0" step="any" name="grade_points['+d+']" placeholder="1" value="" /></td>',e+='<td><input type="number" min="0" step="any" name="grade_points_lower['+d+']" placeholder="1.0" value="" /></td>',e+='<td><input type="number" min="0" step="any" name="grade_points_upper['+d+']" placeholder="1.5" value="" /></td>',e+='<td><a href="#" class="gt_remove" remove="#gt_grading_row_'+d+'"><img src="'+M.util.image_url("t/delete")+'" alt="delete" /></a></td>',e+="</tr>",a("#gt_grading_structure_table").append(e),c.bindings(),b.preventDefault()}),a("#gt_add_crit_grading").unbind("click"),a("#gt_add_crit_grading").bind("click",function(b){c.cntGrades++;var d=c.cntGrades,e="";e+='<tr id="gt_grading_row_'+d+'">',e+="<td>",e+='<input type="hidden" name="grade_ids['+d+']" value="-1" />',e+='<div class="gt-upload-img"><img id="gt_award_img_preview_'+d+'" src="'+M.cfg.wwwroot+'/blocks/gradetracker/pix/no_image.jpg" class="gt_image_preview"><input type="file" rowNum="'+d+'" name="grade_files['+d+']" class="gt_award_icon_input"></div>',e+="</td>",e+='<td><input type="text" name="grade_names['+d+']" placeholder="e.g. Pass" value="" /></td>',e+='<td><input type="text" class="gt_text_small" name="grade_shortnames['+d+']" placeholder="P" value="" /></td>',e+='<td><input type="checkbox" name="grade_met['+d+']" value="1" /></td>',e+="<td>",e+='<select name="grade_specialvals['+d+']">',e+='<option value=""></option>',a.each(c.specialVals,function(a,b){e+='<option value="'+b+'">'+b+"</option>"}),e+="</select>",e+="</td>",e+='<td><input type="number" min="0" step="any" name="grade_points['+d+']" placeholder="1" value="" /></td>',e+='<td><input type="number" min="0" step="any" name="grade_points_lower['+d+']" placeholder="1.0" value="" /></td>',e+='<td><input type="number" min="0" step="any" name="grade_points_upper['+d+']" placeholder="1.5" value="" /></td>',e+='<td><a href="#" class="gt_remove" remove="#gt_grading_row_'+d+'"><img src="'+M.util.image_url("t/delete")+'" alt="delete" /></a></td>',e+="</tr>",a("#gt_grading_structure_table").append(e),c.bindings(),b.preventDefault()}),a(".gt_award_icon_input").unbind("change"),a(".gt_award_icon_input").change(function(){var b=a(this).attr("rowNum");GT.read_file(this,"#gt_award_img_preview_"+b)}),GT.bind()};var d={};return d.log=function(a){console.log("[GT] "+(new Date).toTimeString().split(" ")[0]+": "+a)},d.init=function(a){c.init(a),d.log("Loaded config_structures_grade.js")},d});