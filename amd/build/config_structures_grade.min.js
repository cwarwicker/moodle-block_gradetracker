define(["jquery","jqueryui","block_gradetracker/scripts"],function(a,b,c){var d={};d.specialVals=[],d.cntGrades=0,d.init=function(b){d.specialVals=b,d.cntGrades=a("#gt_grading_structure_table tr").length-1,d.bindings()},d.bindings=function(){a("#gt_add_unit_grading").unbind("click"),a("#gt_add_unit_grading").bind("click",function(b){d.cntGrades++;var c=d.cntGrades,e="";e+='<tr id="gt_grading_row_'+c+'">',e+='<td><input type="hidden" name="grade_ids['+c+']" value="-1" /><input type="text" name="grade_names['+c+']" placeholder="e.g. Pass" value="" /></td>',e+='<td><input type="text" class="gt_text_small" name="grade_shortnames['+c+']" placeholder="P" value="" /></td>',e+='<td><input type="number" min="0" step="any" name="grade_points['+c+']" placeholder="1" value="" /></td>',e+='<td><input type="number" min="0" step="any" name="grade_points_lower['+c+']" placeholder="1.0" value="" /></td>',e+='<td><input type="number" min="0" step="any" name="grade_points_upper['+c+']" placeholder="1.5" value="" /></td>',e+='<td><a href="#" class="gt_remove" remove="#gt_grading_row_'+c+'"><img src="'+M.util.image_url("t/delete")+'" alt="delete" /></a></td>',e+="</tr>",a("#gt_grading_structure_table").append(e),d.bindings(),b.preventDefault()}),a("#gt_add_crit_grading").unbind("click"),a("#gt_add_crit_grading").bind("click",function(b){d.cntGrades++;var c=d.cntGrades,e="";e+='<tr id="gt_grading_row_'+c+'">',e+="<td>",e+='<input type="hidden" name="grade_ids['+c+']" value="-1" />',e+='<div class="gt-upload-img"><img id="gt_award_img_preview_'+c+'" src="'+M.cfg.wwwroot+'/blocks/gradetracker/pix/no_image.jpg" class="gt_image_preview"><input type="file" rowNum="'+c+'" name="grade_files['+c+']" class="gt_award_icon_input"></div>',e+="</td>",e+='<td><input type="text" name="grade_names['+c+']" placeholder="e.g. Pass" value="" /></td>',e+='<td><input type="text" class="gt_text_small" name="grade_shortnames['+c+']" placeholder="P" value="" /></td>',e+='<td><input type="checkbox" name="grade_met['+c+']" value="1" /></td>',e+="<td>",e+='<select name="grade_specialvals['+c+']">',e+='<option value=""></option>',a.each(d.specialVals,function(a,b){e+='<option value="'+b+'">'+b+"</option>"}),e+="</select>",e+="</td>",e+='<td><input type="number" min="0" step="any" name="grade_points['+c+']" placeholder="1" value="" /></td>',e+='<td><input type="number" min="0" step="any" name="grade_points_lower['+c+']" placeholder="1.0" value="" /></td>',e+='<td><input type="number" min="0" step="any" name="grade_points_upper['+c+']" placeholder="1.5" value="" /></td>',e+='<td><a href="#" class="gt_remove" remove="#gt_grading_row_'+c+'"><img src="'+M.util.image_url("t/delete")+'" alt="delete" /></a></td>',e+="</tr>",a("#gt_grading_structure_table").append(e),d.bindings(),b.preventDefault()}),a(".gt_award_icon_input").unbind("change"),a(".gt_award_icon_input").change(function(){var b=a(this).attr("rowNum");GT.read_file(this,"#gt_award_img_preview_"+b)}),GT.bind()};var e={};return e.log=function(a){console.log("[GT] "+(new Date).toTimeString().split(" ")[0]+": "+a)},e.init=function(a){d.init(a),e.log("Loaded config_structures_grade.js")},e});