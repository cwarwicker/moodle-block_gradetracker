define(["jquery","jqueryui","block_elbp/scripts","block_gradetracker/scripts","block_gradetracker/grids"],function(a,b,c,d,e){var f={},c=c.scripts,d=d.scripts,e=e.scripts;f.init=function(){f.bindings()},f.bindings=function(){a(".gt_elbp_load_popup").unbind("click"),a(".gt_elbp_load_popup").bind("click",function(b){var d=a(this).attr("qualID");c.load_expanded("elbp_gradetracker",function(){var b=a("#qual"+d+"_tab");f.loadGradeTracker(d,b)}),b.preventDefault()}),a(".gt_elbp_load_grid").unbind("click"),a(".gt_elbp_load_grid").bind("click",function(b){var c=a(this).attr("qualID");f.loadGradeTracker(c,this),b.preventDefault()})},f.loadGradeTracker=function(b,f){var g={type:"tracker",studentID:c.studentID,courseID:c.courseID,id:b};c.ajax("elbp_gradetracker","load_display_type",g,function(b){a("#elbp_gradetracker_content").html(b),c.set_view_link(f),d.bind(),e.bindings(),a("#gt_grid_holder").css("max-height","400px"),a("#gt_grid_holder").css("overflow-y","scroll")},function(b){a("#elbp_gradetracker_content").html('<img src="'+M.cfg.wwwroot+'/blocks/elbp/pix/loader.gif" alt="" />')})};var g={};return g.log=function(a){console.log("[GT] "+(new Date).toTimeString().split(" ")[0]+": "+a)},g.init=function(){f.init(),g.log("Loaded elbp_gradetracker.js")},c.push_script("elbp_gradetracker",f),g});