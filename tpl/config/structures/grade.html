<?php if(!defined('BCGT')) exit; ?>

<?php echo (!empty($MSGS['errors'])) ? gt_error_alert_box($MSGS['errors']) : '' ?>
<?php echo (!empty($MSGS['success'])) ? gt_success_alert_box($MSGS['success']) : '' ?>

<div>

    <table class="gt_config" style="width:inherit;">

      <thead>
        <tr>
          <th colspan="3"><?php echo $string['gradestructures'] ?></th>
        </tr>
        <tr>
            <th><?php echo $string['name'] ?></th>
            <th><?php echo $string['unit'] ?></th>
            <th><?php echo $string['criteria'] ?></th>
        </tr>
      </thead>
      <tbody>

        <?php if ($qualStructures): ?>

            <?php foreach($qualStructures as $structure): ?>

                <tr>
                    <td><?php echo $structure->getName() ?><br><small>(<?php echo $structure->getDisplayName() ?>)</small></td>
                    <td>
                        <?php if ($structure->isLevelEnabled("Units")): ?>
                            <a href="<?php echo $CFG->wwwroot ?>/blocks/gradetracker/config.php?view=structures&section=grade&page=edit&id=<?php echo $structure->getID() ?>&type=unit"><img src="<?php echo gt_image_url('t/edit') ?>" alt="edit" /></a>
                        <?php endif; ?>
                    </td>
                    <td><a href="<?php echo $CFG->wwwroot ?>/blocks/gradetracker/config.php?view=structures&section=grade&page=edit&id=<?php echo $structure->getID() ?>&type=criteria"><img src="<?php echo gt_image_url('t/edit') ?>" alt="edit" /></a></td>
                </tr>

            <?php endforeach; ?>

        <?php endif; ?>
      </tbody>
    </table>

</div>