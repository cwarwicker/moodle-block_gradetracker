<?php if(!defined('BCGT')) exit; ?>

<?= (!empty($MSGS['errors'])) ? gt_error_alert_box($MSGS['errors']) : '' ?>
<?= (!empty($MSGS['success'])) ? gt_success_alert_box($MSGS['success']) : '' ?>

<div>

    <table class="gt_config" style="width:inherit;">

        <tr>
            <th><?= $string['name'] ?></th>
            <th><?= $string['unit'] ?></th>
            <th><?= $string['criteria'] ?></th>
        </tr>

        <?php if ($qualStructures): ?>

            <?php foreach($qualStructures as $structure): ?>

                <tr>
                    <td><?= $structure->getName() ?><br><small>(<?= $structure->getDisplayName() ?>)</small></td>
                    <td>
                        <?php if ($structure->isLevelEnabled("Units")): ?>
                            <a href="<?= $CFG->wwwroot ?>/blocks/gradetracker/config.php?view=structures&section=grade&page=edit&id=<?= $structure->getID() ?>&type=unit"><img src="<?= gt_image_url('t/edit') ?>" alt="edit" /></a>
                        <?php endif; ?>
                    </td>
                    <td><a href="<?= $CFG->wwwroot ?>/blocks/gradetracker/config.php?view=structures&section=grade&page=edit&id=<?= $structure->getID() ?>&type=criteria"><img src="<?= gt_image_url('t/edit') ?>" alt="edit" /></a></td>
                </tr>

            <?php endforeach; ?>

        <?php endif; ?>

    </table>

</div>