<div id='gt_rule_content_<?php echo $ruleSetNum ?>_<?php echo $ruleNum ?>' class='gt_rule_content' style='display:none;'>

    <div class='gt_rule_content_section_float'>
        <div class='gt_rule_settings_heading'><?php echo $string['rule:setting:details'] ?></div>
        <table class='gt_rule_settings_table'>
            <tr>
                <td><?php echo $string['rulename'] ?></td>
                <td>
                    <?php if (isset($rule)): ?>
                        <input type='hidden' name='rule_sets[<?php echo $ruleSetNum ?>][rules][<?php echo $ruleNum ?>][id]' class='gt_rule_id' value='<?php echo $rule->getID() ?>' />
                    <?php endif; ?>
                    <input type='text' name='rule_sets[<?php echo $ruleSetNum ?>][rules][<?php echo $ruleNum ?>][name]' class='gt_rule_name' value='<?php echo (isset($rule)) ? \gt_html($rule->getName()) : get_string('newrule', 'block_gradetracker') ?>' />
                </td>
            </tr>
            <tr>
                <td><?php echo $string['description'] ?></td>
                <td>
                    <textarea name="rule_sets[<?php echo $ruleSetNum ?>][rules][<?php echo $ruleNum ?>][desc]"><?php echo (isset($rule)) ? \gt_html($rule->getDescription()): '' ?></textarea>
                </td>
            </tr>
        </table>
    </div>

    <div class='gt_rule_content_section_float'>
        <div class='gt_rule_settings_heading'><?php echo $string['rule:setting:event'] ?></div>
        <table class='gt_rule_settings_table'>
            <?php foreach(\GT\Rule::getEvents() as $onEvent): ?>
            <tr>
                <td>
                    <div class="gt_fancy_checkbox">
                        <input id="chkbox_<?php echo $onEvent ?>_<?php echo $ruleSetNum ?>_<?php echo $ruleNum ?>" type='radio' name='rule_sets[<?php echo $ruleSetNum ?>][rules][<?php echo $ruleNum ?>][onevent]' class='gt_rule_event gt_middle gt_rule_on_event_<?php echo $ruleSetNum ?>_<?php echo $ruleNum ?>' value='<?php echo $onEvent ?>' <?php echo (isset($rule) && $rule->getOnEvent() == $onEvent) ? 'checked' : '' ?> />
                        <label for="chkbox_<?php echo $onEvent ?>_<?php echo $ruleSetNum ?>_<?php echo $ruleNum ?>"></label>
                    </div>
                </td>
                <td>
                    <?php echo $onEvent ?><br>
                    <small><?php echo $string['rule:event:'.$onEvent] ?></small>
                </td>
            </tr>
            <?php endforeach; ?>
        </table>
    </div>

    <div class='gt_rule_content_section'>
        <div class='gt_rule_settings_heading'><?php echo $string['rule:setting:steps'] ?></div>
        <a href='#' class='gt_add_rule_step gt_btn gt_btn_small' ruleSetNum='<?php echo $ruleSetNum ?>' ruleNum='<?php echo $ruleNum ?>'><?php echo $string['createrulestep'] ?></a><br><br>
        <div id='gt_rule_steps_<?php echo $ruleSetNum ?>_<?php echo $ruleNum ?>'>
            <?php if (isset($rule)): ?>
                <?php foreach($rule->getSteps() as $step): ?>
                    <?php $numRuleSteps[$ruleSetNum][$ruleNum]++ ?>
                    <?php $ruleStepNum = $numRuleSteps[$ruleSetNum][$ruleNum] ?>
                    <?php echo $rule->getTemplateContent('config/structures/qual/inc/rulestep.inc.html', array('RS' => $ruleSetNum, 'R' => $ruleNum, 'S' => $ruleStepNum, 'step' => $step)) ?>
                <?php endforeach; ?>
            <?php endif; ?>
        </div>
    </div>

    <br><br>

</div>